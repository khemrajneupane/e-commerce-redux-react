(this["webpackJsonpecommerce-rect-node"]=this["webpackJsonpecommerce-rect-node"]||[]).push([[0],{31:function(e,t,a){},48:function(e,t,a){e.exports=a(78)},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),i=a(9),s=(a(31),a(42)),o=a.n(s),u=a(43),m=a.n(u),E=a(3),p=a.n(E),d=a(8),f=a(17),_=a.n(f),v="https://pdf-node.herokuapp.com/api/items",T={getAll:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get(v);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(v,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("https://pdf-node.herokuapp.com/api/create-pdf",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPdf:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("https://pdf-node.herokuapp.com/api/fetch-pdf",{responseType:"blob"});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},b=a(6),h=a(2),I={ITEM_LIST_REQUEST:"ITEM_LIST_REQUEST",ITEM_LIST_OK:"ITEM_LIST_OK",ITEM_LIST_X:"ITEM_LIST_X",ITEM_DETAIL_REQUEST:"ITEM_DETAIL_REQUEST",ITEM_DETAIL_OK:"ITEM_DETAIL_OK",ITEM_DETAIL_X:"ITEM_DETAIL_X",BASKET_ADD_ITEM_REQ:"BASKET_ADD_ITEM_REQ",BASKET_ADD_ITEM_OK:"BASKET_ADD_ITEM_OK",BASKET_ADD_ITEM_X:"BASKET_ADD_ITEM_X",BASKET_REMOVE_ITEM_REQ:"BASKET_REMOVE_ITEM",BASKET_REMOVE_ITEM_OK:"BASKET_REMOVE_ITEM_OK",BASKET_REMOVE_ITEM_X:"BASKET_REMOVE_ITEM_X"},g=function(e){var t=Object(i.c)((function(e){return e.itemList})),a=t.items,c=t.loading,l=t.error,s=Object(i.b)();return Object(n.useEffect)((function(){s(function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:I.ITEM_LIST_REQUEST}),e.next=4,T.getAll();case 4:a=e.sent,t({type:I.ITEM_LIST_OK,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:I.ITEM_LIST_X,payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),c?r.a.createElement("div",null,"Loading..."):l?r.a.createElement("div",null,l):r.a.createElement("ul",{className:"items"},a.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",{className:"item"},r.a.createElement(b.b,{to:"/item/".concat(e.id)}," ",r.a.createElement("img",{className:"item-image",src:e.image,alt:"jersey-shirt-dress-maroon"})),r.a.createElement("div",{className:"item-name"},r.a.createElement(b.b,{to:"/item/".concat(e.id)},e.name)),r.a.createElement("div",{className:"item-brand"},e.brand),r.a.createElement("div",{className:"item-price"},"\u20ac ",e.price),r.a.createElement("div",{className:"item-rating"},r.a.createElement("small",null,e.rating," Stars (",e.numReviews," Reviews)"))))})))},y=a(24),k=a(46),S=a(23),A=a.n(S),M=function(e){var t=Object(n.useState)(1),a=Object(k.a)(t,2),c=a[0],l=a[1],s=Object(i.c)((function(e){return e.itemDetailList})),o=s.item,u=s.loading,m=s.error;console.log(o);var E=Object(i.b)();Object(n.useEffect)((function(){var t;E((t=e.match.params.id,function(){var e=Object(d.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:I.ITEM_DETAIL_REQUEST}),e.next=4,T.getById(t);case 4:n=e.sent,a({type:I.ITEM_DETAIL_OK,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:I.ITEM_DETAIL_X,payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[]);return r.a.createElement("div",null,r.a.createElement("div",{className:"back-btn"},r.a.createElement(b.b,{to:"/"},r.a.createElement(A.a,null)," Back home")),u?r.a.createElement("div",null,"Loading..."):m?r.a.createElement("div",null,m," "):r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"details-image"},r.a.createElement("img",{src:o.image,alt:"item"})),r.a.createElement("div",{className:"details-info"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h4",null,o.name)),r.a.createElement("li",null,o.rating," Stars (",o.numReviews," Reviews)"),r.a.createElement("li",null,"Price: ",r.a.createElement("strong",null,"\u20ac",o.price)),r.a.createElement("li",null,"Description:",r.a.createElement("div",null,o.description)))),r.a.createElement("div",{className:"details-action"},r.a.createElement("ul",null,r.a.createElement("li",null,"Price: ",o.price),r.a.createElement("li",null,"Status: ",o.stockCount?"Available in stock":"Out of Stock !!"),r.a.createElement("li",null,"Quantity:"," ",r.a.createElement("select",{value:c,onChange:function(e){return l(e.target.value)}},Object(y.a)(Array(o.stockCount)).map((function(e,t){return r.a.createElement("option",{key:t,value:t+1},t+1)})))),r.a.createElement("li",null,o.stockCount>0&&r.a.createElement("button",{onClick:function(){e.history.push("/basket/"+e.match.params.id+"?quantity="+c)},className:"button primary"},"Add to Cart")),r.a.createElement("li",null,!o.stockCount&&r.a.createElement(b.b,{to:"/"},"Back to Item Lists"))))))},O=function(e,t){return function(){var a=Object(d.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,T.getById(e);case 3:r=a.sent,n({type:I.BASKET_ADD_ITEM_REQ}),n({type:I.BASKET_ADD_ITEM_OK,payload:r,quantity:t}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:I.BASKET_ADD_ITEM_X,payload:a.t0.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},D=a(41),L=function(){var e=Object(i.c)((function(e){return e.shoppingBasket})).basketItems,t=function(){var t=Object(d.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.create({buyer_name:"John Doe",name:e.name,purchasedId:e.id,price1:e.price,price2:e.price});case 3:return t.next=5,T.getPdf();case 5:a=t.sent,n=new Blob([a.data],{type:"application/pdf"}),Object(D.saveAs)(n,"receipt.pdf"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(b.b,{to:"/pdf"},"view pdf receipt"),r.a.createElement("button",{onClick:t},"Download Your Purchase"))},w=function(e){var t=Object(i.c)((function(e){return e.shoppingBasket})),a=t.basketItems,c=t.loading,l=t.error,s=e.match.params.id,o=e.location.search?Number(e.location.search.split("=")[1]):1,u=Object(i.b)();return Object(n.useEffect)((function(){s&&u(O(s,o))}),[]),r.a.createElement("div",{className:"basket"},r.a.createElement("div",{className:"basket-list"},r.a.createElement("ul",{className:"basket-list-container"},r.a.createElement("li",null,r.a.createElement("h3",null,"Shopping basket"),r.a.createElement("div",null,r.a.createElement(L,null))),c?r.a.createElement("div",null,l):r.a.createElement("li",null,r.a.createElement("div",{className:"basket-image"},r.a.createElement("img",{src:a.image,alt:"item"})),r.a.createElement("div",{className:"basket-name"},r.a.createElement("div",null,r.a.createElement(b.b,{to:"/item/"+a.id},a.name)),r.a.createElement("div",null,"Quantity:",r.a.createElement("select",{value:a.quantity,onChange:function(e){return u(O(a.id,e.target.value))}},Object(y.a)(Array(a.stockCount)).map((function(e,t){return r.a.createElement("option",{key:t,value:t+1},t+1)}))),r.a.createElement("button",{type:"button",className:"button",onClick:function(e){return window.alert(e.target.value)}},"Delete"))),r.a.createElement("div",{className:"basket-price"},"$",a.price)))))},K=function(){return r.a.createElement("div",{className:"back-btn"},r.a.createElement(b.b,{to:"/"},r.a.createElement(A.a,null)," Back home"),r.a.createElement("div",null,r.a.createElement("embed",{src:"https://pdf-node.herokuapp.com/api/fetch-pdf",width:"100%",height:"1000px"})))},x=function(){return r.a.createElement(b.a,null,r.a.createElement("div",{className:"grid-container"},r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"brand"},r.a.createElement("button",{onClick:function(){document.querySelector(".sidebar").classList.add("open")}},r.a.createElement(o.a,{fontSize:"large"})),r.a.createElement(b.b,{to:"/"},"Shopping Land")),r.a.createElement("div",{className:"header-links"},r.a.createElement("a",{href:"index.html"},"My Cart"),r.a.createElement("a",{href:"index.html"},"Log In"))),r.a.createElement("aside",{className:"sidebar"},r.a.createElement("h3",null,"Shopping Categories"),r.a.createElement("button",{className:"sidebar-close-button",onClick:function(){document.querySelector(".sidebar").classList.remove("open")}},r.a.createElement(m.a,{fontSize:"large"})),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"index.html"},"Trousers")),r.a.createElement("li",null,r.a.createElement("a",{href:"index.html"},"Vests")))),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"content"},r.a.createElement(h.a,{exact:!0,path:"/item/:id",component:M}),r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(g,null)}}),r.a.createElement(h.a,{exact:!0,path:"/pdf",render:function(){return r.a.createElement(K,null)}}),r.a.createElement(h.a,{exact:!0,path:"/basket/:id?",component:w}))),r.a.createElement("footer",{className:"footer"},"at All rights reserved.")))},N=a(16),B=a(44),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.ITEM_LIST_REQUEST:return{loading:!0};case I.ITEM_LIST_OK:return{loading:!1,items:t.payload};case I.ITEM_LIST_X:return{loading:!1,error:t.payload};default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{item:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.ITEM_DETAIL_REQUEST:return{loading:!0};case I.ITEM_DETAIL_OK:return{loading:!1,item:t.payload};case I.ITEM_DETAIL_X:return{loading:!1,error:t.payload};default:return e}},C=a(45),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{basketItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.BASKET_ADD_ITEM_REQ:return{loading:!0};case I.BASKET_ADD_ITEM_OK:return{loading:!1,basketItems:t.payload};case I.BASKET_ADD_ITEM_X:return{loading:!1,error:t.payload};default:return e}},X=Object(N.combineReducers)({itemList:j,itemDetailList:R,shoppingBasket:Q}),U=Object(N.createStore)(X,Object(C.composeWithDevTools)(Object(N.applyMiddleware)(B.a)));l.a.render(r.a.createElement(i.a,{store:U},r.a.createElement(x,null)),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.4b07f1a4.chunk.js.map