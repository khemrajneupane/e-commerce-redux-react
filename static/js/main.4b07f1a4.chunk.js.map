{"version":3,"sources":["services/items.js","constants/itemConstants.js","Views/HomeView.js","actions/itemActions.js","Views/ItemsView.js","actions/itemDetailAction.js","actions/basketAction.js","Views/Pdf.js","Views/BasketView.js","Views/ViewReceipt.js","App.js","reducers/itemListReducer.js","reducers/itemDetailReducer.js","reducers/basketReducer.js","store.js","index.js"],"names":["baseUrl","getAll","a","axios","get","request","data","getById","itemId","create","newObject","post","getPdf","responseType","ActionTypes","ITEM_LIST_REQUEST","ITEM_LIST_OK","ITEM_LIST_X","ITEM_DETAIL_REQUEST","ITEM_DETAIL_OK","ITEM_DETAIL_X","BASKET_ADD_ITEM_REQ","BASKET_ADD_ITEM_OK","BASKET_ADD_ITEM_X","BASKET_REMOVE_ITEM_REQ","BASKET_REMOVE_ITEM_OK","BASKET_REMOVE_ITEM_X","HomeView","props","itemList","useSelector","state","items","loading","error","dispatch","useDispatch","useEffect","type","itemService","payload","message","className","map","p","index","key","to","id","src","image","alt","name","brand","price","rating","numReviews","ItemsView","useState","quantity","setQuantity","itemDetailList","item","console","log","match","params","description","stockCount","value","onChange","e","target","Array","onClick","history","push","addToBasket","Pdf","basketItems","shoppingBasket","createAndDownloadPdf","pdfService","buyer_name","purchasedId","price1","price2","res","pdfBlob","Blob","saveAs","BasketView","basketItem","location","search","Number","split","window","alert","ViewReceipt","width","height","App","document","querySelector","classList","add","fontSize","href","remove","exact","path","component","render","itemListReducer","action","itemDetailReducer","basketReducer","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.4b07f1a4.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'https://pdf-node.herokuapp.com/api/items'\r\nconst createPdfUrl = 'https://pdf-node.herokuapp.com/api/create-pdf'\r\nconst getPdfUrl = 'https://pdf-node.herokuapp.com/api/fetch-pdf'\r\n\r\nconst getAll = async () => {\r\n    const request = await axios.get(baseUrl)\r\n    return request.data\r\n}\r\n\r\nconst getById = async (itemId) => {\r\n    const request = await axios.get(`${baseUrl}/${itemId}`)\r\n    return request.data\r\n}\r\n\r\nconst create = async (newObject) => {\r\n    const request = await axios.post(createPdfUrl, newObject);\r\n    return request;\r\n  };\r\n  const getPdf = async () => {\r\n    const request = await axios.get(getPdfUrl,{ responseType: 'blob' })\r\n    return request.data\r\n}\r\nexport default { getAll, getById, create, getPdf }","\r\nconst ActionTypes = {\r\n    // Items All Action Types\r\n    ITEM_LIST_REQUEST: \"ITEM_LIST_REQUEST\",\r\n    ITEM_LIST_OK: \"ITEM_LIST_OK\",\r\n    ITEM_LIST_X: \"ITEM_LIST_X\",\r\n    // Item Details Action Types\r\n    ITEM_DETAIL_REQUEST: \"ITEM_DETAIL_REQUEST\",\r\n    ITEM_DETAIL_OK: \"ITEM_DETAIL_OK\",\r\n    ITEM_DETAIL_X: \"ITEM_DETAIL_X\", \r\n    // Shopping Basket Action Types\r\n    BASKET_ADD_ITEM_REQ: \"BASKET_ADD_ITEM_REQ\",\r\n    BASKET_ADD_ITEM_OK: \"BASKET_ADD_ITEM_OK\",\r\n    BASKET_ADD_ITEM_X: \"BASKET_ADD_ITEM_X\",\r\n    \r\n    BASKET_REMOVE_ITEM_REQ: \"BASKET_REMOVE_ITEM\",\r\n    BASKET_REMOVE_ITEM_OK: \"BASKET_REMOVE_ITEM_OK\",\r\n    BASKET_REMOVE_ITEM_X: \"BASKET_REMOVE_ITEM_X\",\r\n  };\r\n  \r\n  export default ActionTypes;","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {listItems} from \"../actions/itemActions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst HomeView = (props) => {\r\n  const itemList = useSelector(state => state.itemList);\r\n  const { items, loading, error } = itemList;\r\n  const dispatch = useDispatch();\r\n\r\nuseEffect(() => {\r\n  dispatch(listItems());\r\n}, [])\r\n\r\n\r\n  return (\r\n    loading ? <div>Loading...</div> :\r\n    error ? <div>{error}</div> :\r\n    <ul className=\"items\">\r\n      {items.map((p, index) => (\r\n        <li key={index}>\r\n          <div className=\"item\">\r\n            <Link to={`/item/${p.id}`}>\r\n              {\" \"}\r\n              <img\r\n                className=\"item-image\"\r\n                src={p.image}\r\n                alt=\"jersey-shirt-dress-maroon\"\r\n              />\r\n            </Link>\r\n            <div className=\"item-name\">\r\n              <Link to={`/item/${p.id}`}>{p.name}</Link>\r\n            </div>\r\n            <div className=\"item-brand\">{p.brand}</div>\r\n            <div className=\"item-price\">€ {p.price}</div>\r\n            <div className=\"item-rating\">\r\n              <small>\r\n                {p.rating} Stars ({p.numReviews} Reviews)\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default HomeView;\r\n","import itemService from \"../services/items\";\r\nimport ActionTypes from \"../constants/itemConstants\";\r\nconst listItems = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ActionTypes.ITEM_LIST_REQUEST });\r\n    const items = await itemService.getAll();\r\n    dispatch({ type: ActionTypes.ITEM_LIST_OK, payload: items });\r\n  } catch (error) {\r\n    dispatch({ type: ActionTypes.ITEM_LIST_X, payload: error.message });\r\n  }\r\n};\r\n\r\nexport { listItems };\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { itemDetailAction } from \"../actions/itemDetailAction\";\r\n\r\nconst ItemsView = (props) => {\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const itemDetailList = useSelector((state) => state.itemDetailList);\r\n\r\n  const { item, loading, error } = itemDetailList;\r\n  console.log(item)\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(itemDetailAction(props.match.params.id));\r\n  }, []);\r\n  /**handleAddToBasket is a function just to redirect user to a new URL with given parameters */\r\n  const handleAddToBasket = () => {\r\n    props.history.push(\r\n      \"/basket/\" + props.match.params.id + \"?quantity=\" + quantity\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"back-btn\">\r\n        <Link to=\"/\">\r\n          <ArrowBackIcon /> Back home\r\n        </Link>\r\n      </div>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : error ? (\r\n        <div>{error} </div>\r\n      ) : (\r\n        <div className=\"details\">\r\n          <div className=\"details-image\">\r\n            <img src={item.image} alt=\"item\"></img>\r\n          </div>\r\n          <div className=\"details-info\">\r\n            <ul>\r\n              <li>\r\n                <h4>{item.name}</h4>\r\n              </li>\r\n              <li>\r\n                {item.rating} Stars ({item.numReviews} Reviews)\r\n              </li>\r\n              <li>\r\n                Price: <strong>€{item.price}</strong>\r\n              </li>\r\n              <li>\r\n                Description:\r\n                <div>{item.description}</div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"details-action\">\r\n            <ul>\r\n              <li>Price: {item.price}</li>\r\n              <li>Status: {item.stockCount ? \"Available in stock\" : \"Out of Stock !!\"}</li>\r\n              \r\n              <li>\r\n                Quantity:{\" \"}\r\n                <select\r\n                  value={quantity}\r\n                  onChange={(e) => setQuantity(e.target.value)}\r\n                >\r\n                  {[...Array(item.stockCount)].map((a, index) => (\r\n                    <option key={index} value={index + 1}>\r\n                      {index + 1}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </li>\r\n              <li>\r\n                {item.stockCount > 0 && <button onClick={handleAddToBasket} className=\"button primary\">\r\n                  Add to Cart\r\n                </button>\r\n                }\r\n                \r\n              </li>\r\n              <li>{!item.stockCount ? (<Link to =\"/\">Back to Item Lists</Link>): false}</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemsView;\r\n","import itemService from \"../services/items\";\r\nimport ActionTypes from \"../constants/itemConstants\";\r\nconst itemDetailAction = (itemId) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ActionTypes.ITEM_DETAIL_REQUEST });\r\n    const item = await itemService.getById(itemId);\r\n   \r\n\r\n    dispatch({ type: ActionTypes.ITEM_DETAIL_OK, payload: item });\r\n  } catch (error) {\r\n    dispatch({ type: ActionTypes.ITEM_DETAIL_X, payload: error.message });\r\n  }\r\n};\r\n\r\nexport { itemDetailAction };\r\n","import itemService from \"../services/items\";\r\nimport ActionTypes from \"../constants/itemConstants\";\r\nimport axios from 'axios';\r\nconst baseUrl = 'http://localhost:3001/api/items'\r\n\r\nconst addToBasket = (itemId, quantity) => async (dispatch) => {\r\n  try {\r\n    //const { data } = await axios.get(`${baseUrl}/${itemId}`);\r\n    const  data  = await itemService.getById(itemId);\r\n    //console.log(data)\r\n \r\n    dispatch({ type: ActionTypes.BASKET_ADD_ITEM_REQ });\r\n    dispatch({ type: ActionTypes.BASKET_ADD_ITEM_OK,\r\n        payload:data,quantity});\r\n \r\n  } catch (error) {\r\n    dispatch({ type: ActionTypes.BASKET_ADD_ITEM_X, payload: error.message });\r\n  }\r\n};\r\n\r\nexport { addToBasket };","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { useSelector } from \"react-redux\";\r\nimport pdfService from \"../services/items\";\r\n\r\nconst Pdf = () => {\r\n  const basketItem = useSelector((state) => state.shoppingBasket);\r\n  const { basketItems } = basketItem;\r\n\r\n  /* const[initialStates, setInitialState] = useState({\r\n        name: \"basketItems.name\",\r\n        receiptId: basketItems.id,\r\n        price1: basketItems.price,\r\n        price2: basketItems.price,\r\n    })*/\r\n\r\n  const createAndDownloadPdf = async () => {\r\n    try {\r\n      await pdfService.create({\r\n        buyer_name: \"John Doe\",\r\n        name: basketItems.name,\r\n        purchasedId: basketItems.id,\r\n        price1: basketItems.price,\r\n        price2: basketItems.price,\r\n      });\r\n      const res = await pdfService.getPdf();\r\n      const pdfBlob = new Blob([res.data], { type: \"application/pdf\" });\r\n      saveAs(pdfBlob, \"receipt.pdf\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n        <Link to=\"/pdf\">view pdf receipt</Link>\r\n        <button onClick={createAndDownloadPdf}>Download Your Purchase</button>\r\n     \r\n    </div>\r\n  );\r\n};\r\nexport default Pdf;\r\n","import React, { useEffect } from 'react';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { addToBasket } from '../actions/basketAction';\r\nimport Pdf from './Pdf';\r\n\r\nconst BasketView = (props) => {\r\n  const basketItem = useSelector((state) => state.shoppingBasket);\r\n  const { basketItems, loading, error } = basketItem;\r\n  const itemId = props.match.params.id;\r\n  const quantity = props.location.search ? Number(props.location.search.split(\"=\")[1]) : 1;\r\n  const dispatch = useDispatch();\r\n \r\n  useEffect(() => {\r\n    if (itemId) {\r\n      dispatch(addToBasket(itemId, quantity));\r\n    }\r\n  }, []);\r\n\r\n \r\n  return <div className=\"basket\">\r\n  <div className=\"basket-list\">\r\n    <ul className=\"basket-list-container\">\r\n      <li>\r\n        <h3>\r\n          Shopping basket\r\n        </h3>\r\n        <div><Pdf /></div>\r\n      </li>\r\n      {\r\n       loading ?\r\n          <div>\r\n           {error}\r\n        </div>\r\n          :\r\n        \r\n            <li>\r\n              <div className=\"basket-image\">\r\n                <img src={basketItems.image} alt=\"item\" />\r\n              </div>\r\n              <div className=\"basket-name\">\r\n                <div>\r\n                  <Link to={\"/item/\" + basketItems.id}>\r\n                    {basketItems.name}\r\n                  </Link>\r\n\r\n                </div>\r\n                <div>\r\n                    Quantity:\r\n                  <select value={basketItems.quantity} onChange={(e) => dispatch(addToBasket(basketItems.id, e.target.value))}>\r\n                  {[...Array(basketItems.stockCount)].map((a, index) => (\r\n                    <option key={index} value={index + 1}>\r\n                      {index + 1}\r\n                    </option>\r\n                  ))}\r\n                    </select>\r\n                    <button type=\"button\" className=\"button\" onClick={(e) =>window.alert(e.target.value)} >\r\n                      Delete\r\n                    </button>\r\n                  </div>                \r\n           \r\n              </div>\r\n              <div className=\"basket-price\">\r\n                ${basketItems.price}\r\n              </div>\r\n            </li>\r\n          \r\n      }\r\n    </ul>\r\n  </div>\r\n\r\n</div>\r\n}\r\n\r\nexport default BasketView;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nconst ViewReceipt = () => {\r\n\r\n  return (\r\n    <div className=\"back-btn\">\r\n    <Link to=\"/\">\r\n      <ArrowBackIcon /> Back home\r\n    </Link>\r\n    <div>\r\n        <embed src=\"https://pdf-node.herokuapp.com/api/fetch-pdf\" width=\"100%\" height=\"1000px\" />\r\n    </div>\r\n  </div>\r\n\r\n  );\r\n};\r\n\r\nexport default ViewReceipt;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport DehazeIcon from \"@material-ui/icons/Dehaze\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\n\r\nimport itemService from \"./services/items\";\r\nimport \"./index.css\";\r\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\r\nimport HomeView from \"./Views/HomeView\";\r\nimport ItemsView from \"./Views/ItemsView\";\r\nimport BasketView from \"./Views/BasketView\";\r\nimport ViewReceipt from \"./Views/ViewReceipt\";\r\n\r\n\r\nconst App = () => {\r\n\r\n  const onMenuClickOpen = () => {\r\n    document.querySelector(\".sidebar\").classList.add(\"open\");\r\n  };\r\n  const onMenuClickClose = () => {\r\n    document.querySelector(\".sidebar\").classList.remove(\"open\");\r\n  };\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"grid-container\">\r\n        <header className=\"header\">\r\n          <div className=\"brand\">\r\n            <button onClick={() => onMenuClickOpen()}>\r\n              <DehazeIcon fontSize=\"large\" />\r\n            </button>\r\n            <Link to=\"/\">Shopping Land</Link>\r\n          </div>\r\n          <div className=\"header-links\">\r\n            <a href=\"index.html\">My Cart</a>\r\n            <a href=\"index.html\">Log In</a>\r\n          </div>\r\n        </header>\r\n        <aside className=\"sidebar\">\r\n          \r\n          <h3>Shopping Categories</h3>\r\n          <button\r\n            className=\"sidebar-close-button\"\r\n            onClick={() => onMenuClickClose()}\r\n          >\r\n            <CancelIcon fontSize=\"large\" />\r\n          </button>\r\n          <ul>\r\n            <li>\r\n              <a href=\"index.html\">Trousers</a>\r\n            </li>\r\n\r\n            <li>\r\n              <a href=\"index.html\">Vests</a>\r\n            </li>\r\n          </ul>\r\n        </aside>\r\n\r\n        <main className=\"main\">\r\n          <div className=\"content\">\r\n            <Route\r\n              exact\r\n              path=\"/item/:id\"\r\n              component={ItemsView}\r\n            />\r\n            <Route exact path=\"/\" render={() => <HomeView  />} />\r\n            <Route exact path=\"/pdf\" render={() => <ViewReceipt  />} />\r\n            <Route\r\n              exact\r\n              path=\"/basket/:id?\"\r\n              component={BasketView}\r\n            />\r\n          </div>\r\n        </main>\r\n        <footer className=\"footer\">at All rights reserved.</footer>\r\n      </div>\r\n    </BrowserRouter>\r\n\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ActionTypes from \"../constants/itemConstants\";\r\n\r\n  const itemListReducer = (state = {items:[]}, action) => {\r\n\r\n    switch (action.type) {\r\n        case ActionTypes.ITEM_LIST_REQUEST:\r\n          return { loading: true };\r\n        case ActionTypes.ITEM_LIST_OK:\r\n          return { loading: false, items: action.payload };\r\n        case ActionTypes.ITEM_LIST_X:\r\n          return { loading: false, error: action.payload }\r\n        default:\r\n          return state;\r\n      }\r\n  };\r\n  export default itemListReducer\r\n","import ActionTypes from \"../constants/itemConstants\";\r\n\r\n  const itemDetailReducer = (state = {item:{}}, action) => {\r\n   \r\n    switch (action.type) {\r\n        case ActionTypes.ITEM_DETAIL_REQUEST:\r\n          return { loading: true };\r\n        case ActionTypes.ITEM_DETAIL_OK:\r\n          return { loading: false, item: action.payload };\r\n        case ActionTypes.ITEM_DETAIL_X:\r\n          return { loading: false, error: action.payload }\r\n        default:\r\n          return state;\r\n      }\r\n  };\r\n  export default itemDetailReducer\r\n","import ActionTypes from \"../constants/itemConstants\";\r\n\r\nconst basketReducer = (state = {basketItems:[]}, action) => {\r\n  \r\n  switch (action.type) {\r\n\r\n    case ActionTypes.BASKET_ADD_ITEM_REQ:\r\n      return { loading: true };\r\n\r\n    case ActionTypes.BASKET_ADD_ITEM_OK:\r\n      return {loading:false, basketItems:action.payload}\r\n  \r\n    case ActionTypes.BASKET_ADD_ITEM_X:\r\n      return {loading: false, error: action.payload}  \r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default basketReducer;\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport itemListReducer from \"./reducers/itemListReducer\";\r\nimport itemDetailReducer from \"./reducers/itemDetailReducer\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport basketReducer from \"./reducers/basketReducer\";\r\n\r\nconst reducer = combineReducers({\r\n  itemList: itemListReducer,\r\n  itemDetailList: itemDetailReducer,\r\n  shoppingBasket: basketReducer\r\n});\r\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from \"react-redux\";\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nimport store from \"./store\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>, document.getElementById('root'));\r\n"],"sourceRoot":""}